{% comment %}
  Newsletter Signup Section for MemeStyle Studio
  Features: Email form, customizable content, animations, and crypto-themed styling
{% endcomment %}

<div class="newsletter-signup py-16 lg:py-24 bg-background-secondary relative overflow-hidden w-full" style="width: 100vw; margin-left: calc(-50vw + 50%);">
  {% comment %} Background Elements {% endcomment %}
  <div class="absolute inset-0">
    <div class="cyber-grid w-full h-full opacity-5"></div>
    <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-primary/10 rounded-full blur-3xl animate-pulse-slow"></div>
    <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 1.5s;"></div>
  </div>

  <div class="relative z-10 w-full px-4 sm:px-6 lg:px-8">
    <div class="text-center space-y-8">
      
      {% comment %} Section Header {% endcomment %}
      <div class="space-y-4">
        {% if section.settings.title != blank %}
          <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold font-poppins">
            <span class="text-gradient bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">
              {{ section.settings.title | escape }}
            </span>
          </h2>
        {% endif %}

        {% if section.settings.subtitle != blank %}
          <p class="text-lg sm:text-xl text-text-secondary max-w-2xl mx-auto font-inter">
            {{ section.settings.subtitle | escape }}
          </p>
        {% endif %}
      </div>

      {% comment %} Newsletter Form {% endcomment %}
      <div class="max-w-md mx-auto">
        {% form 'customer', class: 'newsletter-form space-y-4', id: 'newsletter-form' %}
          {% if form.posted_successfully? %}
            <div class="success-message p-4 bg-primary/10 border border-primary/20 rounded-lg text-primary font-semibold animate-slide-in-up">
              <div class="flex items-center justify-center space-x-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                </svg>
                <span>{{ section.settings.success_message | default: 'Thanks for subscribing! Welcome to the crypto fashion revolution! ðŸš€' }}</span>
              </div>
            </div>
          {% endif %}

          {% if form.errors %}
            <div class="error-message p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 font-semibold animate-slide-in-up">
              <div class="flex items-center justify-center space-x-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                </svg>
                <span>{{ form.errors | default_errors }}</span>
              </div>
            </div>
          {% endif %}

          {% comment %} Hidden fields for newsletter subscription {% endcomment %}
          <input type="hidden" name="contact[tags]" value="newsletter">
          
          <div class="flex flex-col sm:flex-row gap-4">
            <div class="flex-1">
              <label for="newsletter-email" class="sr-only">Email address</label>
              <input 
                type="email" 
                id="newsletter-email"
                name="contact[email]" 
                placeholder="{{ section.settings.email_placeholder | default: 'Enter your email address' }}"
                required
                class="w-full px-4 py-3 bg-background border-2 border-background-tertiary rounded-lg text-text-primary placeholder-text-muted focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-300 font-inter"
                aria-label="Email address for newsletter subscription"
              >
            </div>
            
            <button 
              type="submit" 
              class="btn-primary px-8 py-3 font-semibold tracking-wide uppercase whitespace-nowrap"
              aria-label="Subscribe to newsletter"
            >
              <span class="flex items-center justify-center space-x-2">
                <span>{{ section.settings.button_text | default: 'Subscribe' }}</span>
                <svg class="w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </span>
            </button>
          </div>
        {% endform %}

        {% comment %} Additional Information {% endcomment %}
        {% if section.settings.show_privacy_notice %}
          <p class="text-sm text-text-muted mt-4 font-inter">
            {{ section.settings.privacy_text | default: 'We respect your privacy. Unsubscribe at any time. No spam, just pure crypto fashion content! ðŸš€' }}
          </p>
        {% endif %}
      </div>

      {% comment %} Social Proof or Benefits {% endcomment %}
      {% if section.settings.show_benefits %}
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 mt-12">
          {% if section.settings.benefit_1 != blank %}
            <div class="text-center space-y-2">
              <div class="text-3xl mb-2">ðŸŽ¯</div>
              <h3 class="text-lg font-semibold text-primary font-poppins">Exclusive Access</h3>
              <p class="text-text-secondary text-sm font-inter">{{ section.settings.benefit_1 }}</p>
            </div>
          {% endif %}
          
          {% if section.settings.benefit_2 != blank %}
            <div class="text-center space-y-2">
              <div class="text-3xl mb-2">ðŸš€</div>
              <h3 class="text-lg font-semibold text-primary font-poppins">Early Drops</h3>
              <p class="text-text-secondary text-sm font-inter">{{ section.settings.benefit_2 }}</p>
            </div>
          {% endif %}
          
          {% if section.settings.benefit_3 != blank %}
            <div class="text-center space-y-2">
              <div class="text-3xl mb-2">ðŸ’Ž</div>
              <h3 class="text-lg font-semibold text-primary font-poppins">Special Offers</h3>
              <p class="text-text-secondary text-sm font-inter">{{ section.settings.benefit_3 }}</p>
            </div>
          {% endif %}
        </div>
      {% endif %}

      {% comment %} Social Media Links {% endcomment %}
      {% if section.settings.show_social_links %}
        <div class="pt-8">
          <p class="text-text-secondary mb-4 font-inter">Follow us for daily crypto fashion content:</p>
          <div class="flex justify-center space-x-6">
            {% if settings.social_twitter %}
              <a href="{{ settings.social_twitter }}" target="_blank" rel="noopener noreferrer" 
                 class="text-text-secondary hover:text-primary transition-colors duration-300" aria-label="Follow us on Twitter">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                </svg>
              </a>
            {% endif %}
            
            {% if settings.social_instagram %}
              <a href="{{ settings.social_instagram }}" target="_blank" rel="noopener noreferrer" 
                 class="text-text-secondary hover:text-primary transition-colors duration-300" aria-label="Follow us on Instagram">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987s11.987-5.367 11.987-11.987C24.004 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.718-1.297c-.875.807-2.026 1.297-3.323 1.297s-2.448-.49-3.323-1.297c-.807-.875-1.297-2.026-1.297-3.323s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323z"/>
                </svg>
              </a>
            {% endif %}
            
            {% if settings.social_discord %}
              <a href="{{ settings.social_discord }}" target="_blank" rel="noopener noreferrer" 
                 class="text-text-secondary hover:text-primary transition-colors duration-300" aria-label="Join our Discord">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0002 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9554 2.4189-2.1568 2.4189Z"/>
                </svg>
              </a>
            {% endif %}
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Newsletter Signup",
  "tag": "section",
  "class": "newsletter-signup-section",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Stay in the Loop"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Get exclusive access to new releases, crypto fashion tips, and special offers. Join the revolution!"
    },
    {
      "type": "header",
      "content": "Form Settings"
    },
    {
      "type": "text",
      "id": "email_placeholder",
      "label": "Email Placeholder",
      "default": "Enter your email address"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Subscribe"
    },
    {
      "type": "textarea",
      "id": "success_message",
      "label": "Success Message",
      "default": "Thanks for subscribing! Welcome to the crypto fashion revolution! ðŸš€"
    },
    {
      "type": "header",
      "content": "Privacy & Legal"
    },
    {
      "type": "checkbox",
      "id": "show_privacy_notice",
      "label": "Show Privacy Notice",
      "default": true
    },
    {
      "type": "textarea",
      "id": "privacy_text",
      "label": "Privacy Notice Text",
      "default": "We respect your privacy. Unsubscribe at any time. No spam, just pure crypto fashion content! ðŸš€"
    },
    {
      "type": "header",
      "content": "Benefits Section"
    },
    {
      "type": "checkbox",
      "id": "show_benefits",
      "label": "Show Benefits",
      "default": true
    },
    {
      "type": "text",
      "id": "benefit_1",
      "label": "Benefit 1",
      "default": "Get exclusive access to limited edition designs"
    },
    {
      "type": "text",
      "id": "benefit_2",
      "label": "Benefit 2",
      "default": "Be the first to know about new releases"
    },
    {
      "type": "text",
      "id": "benefit_3",
      "label": "Benefit 3",
      "default": "Receive special discounts and crypto rewards"
    },
    {
      "type": "header",
      "content": "Social Links"
    },
    {
      "type": "checkbox",
      "id": "show_social_links",
      "label": "Show Social Media Links",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Newsletter Signup",
      "settings": {
        "title": "Stay in the Loop",
        "subtitle": "Get exclusive access to new releases, crypto fashion tips, and special offers. Join the revolution!",
        "show_benefits": true,
        "show_privacy_notice": true,
        "show_social_links": true
      }
    }
  ]
}
{% endschema %}
